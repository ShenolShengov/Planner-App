<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/fragments/head::head}"></head>
<body class="bg-blue-500 mb-6 mt-6">
<div class="bg-blue-500 min-h-screen flex items-center justify-center bg-background dark:bg-black">
    <div class="bg-card dark:bg-card-foreground rounded-lg shadow-lg p-8 max-w-sm w-full">
        <h2 class="text-2xl font-bold text-primary text-center mb-6">Change password</h2>
        <form th:method="patch"
              th:action="@{/users/change-password}"
              th:object="${changePasswordData}">
            <div class="mb-4">
                <label th:for="currentPassword" class="block text-black text-sm font-medium mb-2">Current password</label>
                <input th:field="*{currentPassword}"
                       required minlength="5" maxlength="15"
                       type="password" id="currentPassword" name="currentPassword"
                       placeholder="Enter your password"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{currentPassword}"
                     class="text-sm text-destructive">
                    <p>Password length must be between 2 and 15 symbols!</p>
                </div>
            </div>
            <div class="mb-4">
                <label th:for="newPassword" class="block text-black text-sm font-medium mb-2">New password</label>
                <input th:field="*{newPassword}"
                       required minlength="5" maxlength="15"
                       type="password" id="newPassword" name="newPassword"
                       placeholder="Enter your password"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{newPassword}"
                     class="text-sm text-destructive">
                    <p>Password length must be between 2 and 15 symbols!</p>
                </div>
                <div th:unless="${#fields.hasErrors('newPassword') || #fields.hasErrors('confirmPassword')}"
                     th:errors="global"
                     class="text-sm text-destructive">
                    <p>Password length must be between 2 and 15 symbols!</p>
                </div>
            </div>
            <div class="mb-6">
                <label th:for="confirmPassword" class="block text-black text-sm font-medium mb-2">Confirm Password</label>
                <input th:field="*{confirmPassword}"
                       required minlength="5" maxlength="15"
                       type="password" id="confirmPassword" name="confirmPassword"
                       placeholder="Confirm your password"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{confirmPassword}"
                     class="text-sm text-destructive">
                    <p>Password length must be between 2 and 15 symbols!</p>
                </div>
                <div th:errors="global"
                     th:unless="${#fields.hasErrors('newPassword') || #fields.hasErrors('confirmPassword')}"
                     class="text-sm text-destructive">
                    <p>Password length must be between 2 and 15 symbols!</p>
                </div>
            </div>
            <button type="submit"
                    class="w-full bg-primary text-primary-foreground p-3 rounded-md hover:bg-primary/80 focus:outline-none focus:ring focus:ring-primary">
                Change password
            </button>
        </form>
    </div>
</div>
</body>
</html>