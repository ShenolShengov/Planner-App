<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/fragments/head::head}"></head>
<body class="bg-blue-500 mb-6 mt-6">
<form th:replace="~{/fragments/language::language(true)}"></form>
<div class="text-primary-foreground min-h-screen flex items-center justify-center">
    <div class="bg-card w-full max-w-md p-8 rounded-lg shadow-lg">
        <h2 th:text="#{register_label}" class="text-black text-2xl font-bold mb-6">Register</h2>
        <form class="text-black"
              th:method="post"
              th:action="@{/users/register}"
              th:object="${registerData}"
              enctype="multipart/form-data">
            <div class="mb-4">
                <label th:text="#{username_label}" th:for="username" class="block text-black text-sm font-medium mb-2">Username</label>
                <input th:field="*{username}"
                       required minlength="5" maxlength="15"
                       type="text" id="username" name="username" th:placeholder="#{username_placeholder}"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{username}"
                     class="text-sm text-destructive">
                    <p>Username length must be between 5 and 15 symbols!</p>
                </div>
            </div>
            <div class="mb-4">
                <label th:text="#{full_name_label}" th:for="fullName" class="block text-black text-sm font-medium mb-2">Full
                    Name</label>
                <input th:field="*{fullName}"
                       required minlength="5" maxlength="20"
                       type="text" id="fullName" name="fullName" th:placeholder="#{full_name_placeholder}"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{fullName}"
                     class="text-sm text-destructive">
                    <p>Full name length must be between 5 and 20 symbols!</p>
                </div>
            </div>
            <div class="mb-4">
                <label th:text="#{email_label}" th:for="email"
                       class="block text-black text-sm font-medium mb-2">Email</label>
                <input th:field="*{email}"
                       required
                       type="email" id="email" name="email" th:placeholder="#{email_placeholder}"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{email}"
                     class="text-sm text-destructive">
                    <p>Enter valid email</p>
                </div>
            </div>
            <div class="mb-4">
                <label th:text="#{age_label}" th:for="age" class="block text-black text-sm font-medium mb-2">Age</label>
                <input th:field="*{age}"
                       required min="1"
                       type="number" id="age" name="age" th:placeholder="#{age_placeholder}"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{age}"
                     class="text-sm text-destructive">
                    <p>Age must be positive</p>
                </div>
            </div>
            <div class="mb-4">
                <label th:text="#{password_label}" th:for="password" class="block text-black text-sm font-medium mb-2">Password</label>
                <input th:field="*{password}"
                       required minlength="5" maxlength="15"
                       type="password" id="password" name="password"
                       th:placeholder="#{password_placeholder}"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{password}"
                     class="text-sm text-destructive">
                    <p>Password length must be between 2 and 15 symbols!</p>
                </div>
            </div>
            <div class="mb-6">
                <label th:text="#{confirm_password_label}" th:for="confirmPassword"
                       class="block text-black text-sm font-medium mb-2">Confirm Password</label>
                <input th:field="*{confirmPassword}"
                       required minlength="5" maxlength="15"
                       type="password" id="confirmPassword" name="confirmPassword"
                       th:placeholder="#{confirm_password_placeholder}"
                       class="w-full px-3 py-2  border rounded-lg focus:outline-none focus:ring focus:ring-primary"/>
                <div th:errors="*{confirmPassword}"
                     class="text-sm text-destructive">
                    <p>Password length must be between 2 and 15 symbols!</p>
                </div>
            </div>
            <div class="flex flex-col items-center justify-center w-full h-full mt-2 mb-6 ">
                <img aria-hidden="true" id="profilePicturePreview" alt="profile-picture"
                     th:src="@{/images/default-profile-picture.png}"
                     class="w-24 h-24 rounded-full object-cover mb-4"/>
                <input th:field="*{profilePicture}" type="file" id="profilePicture" class="hidden"/>
                <label id="profilePicturePreviewLabel" th:for="profilePicture" class="cursor-pointer text-black">
                    Upload from device </label>
                <p class="mt-2">Or</p>
                <button type="button" onclick="setDefaultPicture()" class="mt-2">Use default picture</button>
            </div>
            <button th:text="#{register_label}" type="submit"
                    class="w-full bg-primary text-primary-foreground py-2 rounded-lg hover:bg-primary/80 transition-colors duration-300">
                Register
            </button>
        </form>
    </div>
</div>
<script th:src="@{/js/profile-picture.js}"></script>
</body>
</html>